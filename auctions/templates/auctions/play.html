{% extends "auctions/layout.html" %}

{% block main %}
    <h2>Play</h2>

    <div class="games-container">
        <div id="game1">
            <h3>Title: <span id="title1"></span></h3>
            <img src="" alt="Game Image" id="image1">
            <p>Released: <span id="release1"></span></p>
            <p>Score: <span id="score1"></span></p>
        </div>
    
        <div id="game2">
            <h3>Title: <span id="title2"></span></h3>
            <img src="" alt="Game Image 2" id="image2">
            <p>Released: <span id="release2"></span></p>
            <p>Score: <span id="score2"></span></p>
            <button onclick="checkGuess('more')">More</button>
            <button onclick="checkGuess('less')">Less</button>
        </div>
    </div>
    

    <style>
        .games-container {
            display: flex; /* Use flexbox */
            justify-content: space-between; /* Add space between the two games */
        }
        
        /* Individual styles for each game div */
        #game1, #game2 {
            width: 45%; /* Adjust width as needed */
            border: 1px solid #ccc; /* Example border for better visualization */
            padding: 20px;
            box-sizing: border-box; /* Include padding in width */
        }
    </style>

    <script>
        let counterValue = 0; // Initialize counter variable

        function increment() {
            counterValue++; // Increment the counter variable
            document.getElementById("counter").innerText = counterValue; // Update the value displayed on the HTML page
        }

        var myList = JSON.parse('{{ gameList|safe }}');
        console.log(myList[0]); // Verify the content of gameList

        // Display features of gameList[1] in game1
        document.getElementById("title1").innerText = myList[0].title;
        document.getElementById("image1").src = myList[0].image;
        document.getElementById("release1").innerText = myList[0].release;
        document.getElementById("score1").innerText = myList[0].score;

        document.getElementById("title2").innerText = myList[1].title;
        document.getElementById("image2").src = myList[1].image;
        document.getElementById("release2").innerText = myList[1].release;
        document.getElementById("score2").innerText = myList[1].score;

        function checkGuess(choice) {
        const score1 = parseFloat(document.getElementById("score1").innerText);
        const score2 = parseFloat(document.getElementById("score2").innerText);

        let isCorrect = false;

        if (choice === 'more') {
            isCorrect = score2 > score1;
        } else if (choice === 'less') {
            isCorrect = score2 < score1;
        }

        console.log(`Your guess was ${choice.toUpperCase()}. You were ${isCorrect ? 'correct' : 'wrong'}.`);
    }
    </script>
{% endblock %}
